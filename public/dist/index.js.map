{"version":3,"file":"index.js","mappings":";;;;;;;;;;;;;;;;;;AAAA;AAC6G;AACjB;AAC5F,8BAA8B,mFAA2B,CAAC,4FAAqC;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,wFAAwF,UAAU,UAAU,UAAU,UAAU,YAAY,OAAO,KAAK,UAAU,UAAU,UAAU,YAAY,sCAAsC,mBAAmB,kBAAkB,iBAAiB,gBAAgB,uBAAuB,GAAG,YAAY,qBAAqB,kBAAkB,mBAAmB,8BAA8B,GAAG,qBAAqB;AAC3c;AACA,iEAAe,uBAAuB,EAAC;;;;;;;;;;;ACrB1B;;AAEb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA,gDAAgD;AAChD;AACA;AACA,qFAAqF;AACrF;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,iBAAiB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,qBAAqB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,sFAAsF,qBAAqB;AAC3G;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,iDAAiD,qBAAqB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,sDAAsD,qBAAqB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACpFa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,cAAc;AACrE;AACA;AACA;AACA;AACA;;;;;;;;;;ACfa;;AAEb;AACA;AACA;AACA,kBAAkB,wBAAwB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,4BAA4B;AAChD;AACA;AACA;AACA;AACA;AACA,qBAAqB,6BAA6B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACnFa;;AAEb;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACjCa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACTa;;AAEb;AACA;AACA,cAAc,KAAwC,GAAG,sBAAiB,GAAG,CAAI;AACjF;AACA;AACA;AACA;AACA;;;;;;;;;;ACTa;;AAEb;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA,iFAAiF;AACjF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,yDAAyD;AACzD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AC5Da;;AAEb;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACbA,wGAAgD;AAChD,6GAAoD;AACpD,2FAAwC;AACxC,oGAA8C;AAE9C,MAAa,WAAY,SAAQ,qBAAS;IACrB,MAAM,GAAsB,SAAG,CAAC,MAAM,EAAE;IACxC,GAAG,GAA6B,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","sources":["webpack://alex-winter-game-maker/./src/Client/styles.css","webpack://alex-winter-game-maker/./node_modules/css-loader/dist/runtime/api.js","webpack://alex-winter-game-maker/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://alex-winter-game-maker/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://alex-winter-game-maker/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://alex-winter-game-maker/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://alex-winter-game-maker/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://alex-winter-game-maker/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://alex-winter-game-maker/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://alex-winter-game-maker/./src/Client/Component/Canvas/CanvasLayer.ts","webpack://alex-winter-game-maker/./src/Client/Component/File/FileListing/FileListing.ts","webpack://alex-winter-game-maker/./src/Client/Component/File/FileUploader/FileUploader.ts","webpack://alex-winter-game-maker/./src/Client/Component/Generic/Modal/BasicModal.ts","webpack://alex-winter-game-maker/./src/Client/Component/Generic/handleDragAndDrop.ts","webpack://alex-winter-game-maker/./src/Client/Component/LayerListing/LayerListing.ts","webpack://alex-winter-game-maker/./src/Client/Component/NewLayerForm/NewLayerForm.ts","webpack://alex-winter-game-maker/./src/Client/Component/SideMenu/SideMenu.ts","webpack://alex-winter-game-maker/./src/Client/Component/SpriteSheets/SheetImporter/SheetImporter.ts","webpack://alex-winter-game-maker/./src/Client/Component/SpriteSheets/SheetMaker/SheetMaker.ts","webpack://alex-winter-game-maker/./src/Client/Component/WindowBox/WindowBox.ts","webpack://alex-winter-game-maker/./src/Client/Constants/components.ts","webpack://alex-winter-game-maker/./src/Client/Constants/events.ts","webpack://alex-winter-game-maker/./src/Client/Service/Component.ts","webpack://alex-winter-game-maker/./src/Client/Service/Dom.ts","webpack://alex-winter-game-maker/./src/Client/Service/Events.ts","webpack://alex-winter-game-maker/./src/Client/Service/FileUpload.ts","webpack://alex-winter-game-maker/./src/Client/Service/Repository/LayerRepository.ts","webpack://alex-winter-game-maker/./src/Client/Service/Repository/Repository.ts","webpack://alex-winter-game-maker/./src/Client/Service/WindowBoxFactory.ts","webpack://alex-winter-game-maker/./src/Client/Service/extract-image-from-canvas-area.ts","webpack://alex-winter-game-maker/./src/Client/Service/fileToBase64.ts","webpack://alex-winter-game-maker/./src/Client/styles.css?4120","webpack://alex-winter-game-maker/./src/Model/Factory/LayerFactory.ts","webpack://alex-winter-game-maker/webpack/bootstrap","webpack://alex-winter-game-maker/webpack/runtime/compat get default export","webpack://alex-winter-game-maker/webpack/runtime/define property getters","webpack://alex-winter-game-maker/webpack/runtime/hasOwnProperty shorthand","webpack://alex-winter-game-maker/webpack/runtime/make namespace object","webpack://alex-winter-game-maker/webpack/runtime/nonce","webpack://alex-winter-game-maker/./src/Client/index.ts"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `html, body {\n    height: 100%;\n    width: 100%;\n    padding: 0;\n    margin: 0;\n    overflow: hidden;\n}\n\ncanvas {\n    display: block;\n    width: 100%;\n    height: 100%;\n    background-color: black;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/Client/styles.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,YAAY;IACZ,WAAW;IACX,UAAU;IACV,SAAS;IACT,gBAAgB;AACpB;;AAEA;IACI,cAAc;IACd,WAAW;IACX,YAAY;IACZ,uBAAuB;AAC3B\",\"sourcesContent\":[\"html, body {\\n    height: 100%;\\n    width: 100%;\\n    padding: 0;\\n    margin: 0;\\n    overflow: hidden;\\n}\\n\\ncanvas {\\n    display: block;\\n    width: 100%;\\n    height: 100%;\\n    background-color: black;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","import { EVENTS } from 'Client/Constants/events'\nimport { Component } from 'Client/Service/Component'\nimport { Dom } from 'Client/Service/Dom'\nimport { Events } from 'Client/Service/Events'\n\nexport class CanvasLayer extends Component {\n    private readonly canvas: HTMLCanvasElement = Dom.canvas()\n    private readonly ctx: CanvasRenderingContext2D = this.canvas.getContext('2d')!\n    private currentImage: HTMLImageElement | undefined\n\n    protected build(): HTMLElement {\n        Events.listen(this.handleWindowResize.bind(this), EVENTS.windowResize)\n        Events.listen(this.handleCurrentImageChange.bind(this), EVENTS.sheetSelectionMade)\n\n        this.canvas.addEventListener('mousedown', this.handleMouseDown.bind(this))\n\n        return this.canvas\n    }\n\n    private handleMouseDown(event: MouseEvent): void {\n        this.ctx.drawImage(\n            this.currentImage!,\n            event.clientX,\n            event.clientY,\n        )\n\n        const mouseMove = (event: MouseEvent) => {\n\n        }\n\n        const mouseUp = (event: MouseEvent) => {\n            document.removeEventListener('mouseup', mouseUp)\n            document.removeEventListener('mousemove', mouseMove)\n        }\n\n        document.addEventListener('mousemove', mouseMove)\n        document.addEventListener('mouseup', mouseUp)\n    }\n\n    private handleCurrentImageChange(event: CustomEvent): void {\n        this.currentImage = event.detail as HTMLImageElement\n    }\n\n    private handleWindowResize(): void {\n        this.canvas.width = window.outerWidth\n        this.canvas.height = window.outerHeight\n    }\n}","import { Component } from 'Client/Service/Component'\nimport { Dom } from 'Client/Service/Dom'\nimport { Events } from 'Client/Service/Events'\n\nexport class FileListing extends Component {\n    protected css(): string {\n        return /*css*/`\n            :host {\n                display: block;\n                max-height: 400px;\n                overflow-y: scroll;\n            }        \n\n            .file {\n                display: flex;\n                padding: 10px;\n            }\n            .file div {\n                flex: 1;\n            }\n        `\n    }\n\n    protected build(): HTMLElement {\n        const container = Dom.div()\n\n        Events.listenToFilesUploadSubmitted(fileList => {\n            container.append(\n                ...fileList.map(this.buildFile)\n            )\n        })\n\n        return container\n    }\n\n    private buildFile(file: File): HTMLElement {\n        const container = Dom.div('file')\n        const name = Dom.div()\n        const options = Dom.div()\n        const openButton = Dom.button('Open')\n\n        name.innerText = file.name\n\n        openButton.addEventListener('click', (e) => Events.emitOpenSheet(file))\n\n        options.append(openButton)\n\n        container.append(name, options)\n\n        return container\n    }\n}","import { Component } from 'Client/Service/Component'\nimport { Dom } from 'Client/Service/Dom'\nimport { Events } from 'Client/Service/Events'\n\nexport class FileUploader extends Component {\n    private readonly container: HTMLDivElement = Dom.div('uploader')\n\n    public isSingleton: boolean = true\n\n    protected css(): string {\n        return /*css*/`\n            :host {\n                display: block;\n                font-family: sans-serif;\n            }\n\n            .uploader {\n                border: 2px dashed #ccc;\n                border-radius: 8px;\n                padding: 20px;\n                text-align: center;\n                transition: background-color 0.2s;\n            }\n\n            .uploader.dragover {\n                background-color: #f0f0f0;\n            }\n\n            .upload-button {\n                margin-top: 10px;\n                display: inline-block;\n                padding: 8px 16px;\n                background-color: #007bff;\n                color: white;\n                border: none;\n                border-radius: 4px;\n                cursor: pointer;\n            }\n\n            input[type=\"file\"] {\n                display: none;\n            }\n        `\n    }\n\n    protected build(): HTMLElement {\n        this.container.textContent = 'Drag & drop files here'\n\n        this.container.addEventListener('dragover', this.handleDragOver.bind(this))\n        this.container.addEventListener('dragleave', this.handleDragLeave.bind(this))\n        this.container.addEventListener('drop', this.handleDragDrop.bind(this))\n\n        const input = Dom.multiFileInputWithDir()\n\n        input.addEventListener('change', () => {\n            if (input.files) {\n                this.handleFiles(input.files)\n            }\n        })\n\n        const button = Dom.button('Select Files', 'upload-button')\n        button.addEventListener('click', () => input.click())\n\n        const wrapper = Dom.div()\n\n        wrapper.append(\n            this.container,\n            button,\n            input,\n        )\n\n        return wrapper\n    }\n\n    private handleDragOver(event: DragEvent): void {\n        event.preventDefault()\n\n        this.container.classList.add('dragover')\n    }\n\n    private handleDragLeave(event: DragEvent): void {\n        this.container.classList.remove('dragover')\n    }\n\n    private handleDragDrop(event: DragEvent): void {\n        event.preventDefault()\n\n        this.container.classList.remove('dragover')\n\n        if (event.dataTransfer?.files) {\n            this.handleFiles(event.dataTransfer.files)\n        }\n    }\n\n    private handleFiles(files: FileList): void {\n        Events.emitFilesUploadSubmitted(\n            Array.from(files)\n        )\n    }\n}\n","import { EVENTS } from 'Client/Constants/events'\nimport { Component } from 'Client/Service/Component'\nimport { Dom } from 'Client/Service/Dom'\nimport { Events } from 'Client/Service/Events'\n\nexport class BasicModal extends Component {\n\n    protected css(): string {\n        return /*css*/`\n            .backdrop {\n                position: fixed;\n                inset: 0;\n                background: rgba(0, 0, 0, 0.6);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                z-index: 2000;\n            }\n\n            .modal-content {\n                background: white;\n                border-radius: 12px;\n                padding: 2rem;\n                max-width: 500px;\n                width: 90%;\n                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.25);\n                font-family: sans-serif;\n            }\n        `\n    }\n\n    protected build(): HTMLElement {\n        const backdrop = Dom.div('backdrop')\n        const content = Dom.div('modal-content')\n        const slot = Dom.slot()\n\n        backdrop.addEventListener('click', (event: MouseEvent) => {\n            if (event.target === backdrop) {\n                this.destroy()\n            }\n        })\n\n        Events.listen((event) => {\n            if (this.contains(event.detail as Component)) {\n                this.destroy()\n            }\n        }, EVENTS.closeModal)\n\n        content.append(slot)\n\n        backdrop.appendChild(content)\n\n        return backdrop\n    }\n}\n","export interface DraggableHTMLElement extends HTMLElement {\n    isDragging: boolean\n    offsetX: number\n    offsetY: number\n}\n\nexport function handleDragAndDrop(element: DraggableHTMLElement, event: MouseEvent): void {\n    element.isDragging = true\n\n    const rect = element.getBoundingClientRect()\n\n    element.offsetX = event.clientX - rect.left\n    element.offsetY = event.clientY - rect.top\n\n    const onMouseMove = (e: MouseEvent) => {\n        if (element.isDragging) {\n            element.style.left = `${e.clientX - element.offsetX}px`\n            element.style.top = `${e.clientY - element.offsetY}px`\n            element.style.transform = 'none'\n        }\n    }\n\n    const onMouseUp = () => {\n        element.isDragging = false\n        document.removeEventListener('mousemove', onMouseMove)\n        document.removeEventListener('mouseup', onMouseUp)\n    }\n\n    document.addEventListener('mousemove', onMouseMove)\n    document.addEventListener('mouseup', onMouseUp)\n}","import { EVENTS } from 'Client/Constants/events'\nimport { Component } from 'Client/Service/Component'\nimport { Dom } from 'Client/Service/Dom'\nimport { Events } from 'Client/Service/Events'\nimport { Layer } from 'Model/Layer'\n\nexport class LayerListing extends Component {\n    protected css(): string {\n        return /*css*/`\n            .layer-item {\n                display: flex;\n            }\n\n            .layer-item > div {\n                flex: 1;\n            }\n        `\n    }\n\n    protected build(): HTMLElement {\n        const container = Dom.div()\n        const listing = Dom.div()\n        const addNewLayerButton = Dom.button('Add New Layer')\n\n        addNewLayerButton.addEventListener('click', () => Events.emit(EVENTS.openAddNewLayer))\n\n        Events.listen(\n            event => {\n                listing.append(\n                    ...(event.detail as Layer[]).map(this.buildLayer.bind(this))\n                )\n            },\n            EVENTS.newLayerMapped,\n            EVENTS.gotLayer,\n        )\n\n        container.append(listing, addNewLayerButton)\n\n        return container\n    }\n\n    private buildLayer(layer: Layer): HTMLElement {\n        const container = Dom.div('layer-item')\n        const name = Dom.div()\n        const options = Dom.div()\n        const visibleButton = Dom.button('o')\n\n        name.innerText = layer.name\n\n        options.append(\n            visibleButton,\n        )\n\n        container.append(\n            name,\n            options,\n        )\n\n        return container\n    }\n}","import { EVENTS } from 'Client/Constants/events'\nimport { Component } from 'Client/Service/Component'\nimport { Dom } from 'Client/Service/Dom'\nimport { Events } from 'Client/Service/Events'\n\nexport class NewLayerForm extends Component {\n\n    private name: string = ''\n\n    protected css(): string {\n        return /*css*/`\n            .form-container {\n                font-family: sans-serif;\n                width: 100%;\n            }\n\n            .form-group {\n                margin-bottom: 1rem;\n            }\n\n            .form-label {\n                display: block;\n                margin-bottom: 0.5rem;\n                font-weight: 600;\n                color: #333;\n            }\n\n            .text-input {\n                width: 100%;\n                padding: 0.5rem;\n                font-size: 1rem;\n                border: 1px solid #ccc;\n                border-radius: 4px;\n                outline: none;\n            }\n\n            .text-input:focus {\n                border-color: #007bff;\n                box-shadow: 0 0 0 2px rgba(0,123,255,0.2);\n            }\n        `\n    }\n\n    protected build(): HTMLElement {\n        const container = Dom.div('form-container')\n        const formGroup = Dom.div('form-group')\n\n        const label = Dom.label('Layer Name', 'form-label')\n        const input = Dom.inputText('text-input')\n        input.placeholder = 'Enter layer name'\n        input.addEventListener('keyup', () => this.name = input.value)\n\n        const submitButton = Dom.button('Save')\n        submitButton.addEventListener('click', this.handleSubmit.bind(this))\n\n        formGroup.appendChild(label)\n        formGroup.appendChild(input)\n\n        container.append(\n            formGroup,\n            submitButton,\n        )\n\n        return container\n    }\n\n    private handleSubmit(): void {\n        Events.emit(\n            EVENTS.closeModal,\n            this\n        )\n        Events.emit(\n            EVENTS.newLayerSubmit,\n            {\n                name: this.name,\n            }\n        )\n    }\n}\n","import { Component } from 'Client/Service/Component'\nimport { Dom } from 'Client/Service/Dom'\nimport { Events } from 'Client/Service/Events'\n\nexport class SideMenu extends Component {\n    public isSingleton: boolean = true\n\n    protected css(): string {\n        return /*css*/`\n            :host {\n                background-color: whitesmoke;\n                position: fixed;\n                left: 0;\n                right: 0;\n                height: 100vh;\n                width: 200px;\n            }\n        `\n    }\n\n    protected build(): HTMLElement {\n        const container = Dom.div()\n        const slot = Dom.slot()\n        const sheetImportOption = this.buildMiniOption()\n\n        container.append(\n            slot,\n            sheetImportOption,\n        )\n\n        return container\n    }\n\n    protected buildMiniOption(): HTMLElement {\n        const option = Dom.button('s', 'sheet-import')\n\n        option.addEventListener('click', () => Events.emitSheetImportOpen())\n\n        return option\n    }\n}","import { FileListing } from 'Client/Component/File/FileListing/FileListing'\nimport { FileUploader } from 'Client/Component/File/FileUploader/FileUploader'\nimport { Component } from 'Client/Service/Component'\nimport { Dom } from 'Client/Service/Dom'\n\nexport class SheetImporter extends Component {\n    public isSingleton: boolean = true\n\n    protected build(): HTMLElement {\n        const container = Dom.div()\n        const fileListing = Dom.makeComponent(FileListing)\n        const uploader = Dom.makeComponent(FileUploader)\n\n        container.append(\n            fileListing,\n            uploader,\n        )\n\n        return container\n    }\n}","import { EVENTS } from 'Client/Constants/events'\nimport { Component } from 'Client/Service/Component'\nimport { Dom } from 'Client/Service/Dom'\nimport { Events } from 'Client/Service/Events'\nimport { extractImageFromCanvasArea } from 'Client/Service/extract-image-from-canvas-area'\n\nexport class SheetMaker extends Component {\n    private image: HTMLImageElement | null = null\n    private canvas!: HTMLCanvasElement\n\n    protected css(): string {\n        return /*css*/`\n            :host {\n                position: relative;\n                max-width: 400px;\n                max-height: 400px;\n                overflow: scroll;\n                display: block;\n            }\n\n            .selector-box {\n                position: absolute;\n                border: 1px solid #0078D7;\n                background-color: rgba(0, 120, 215, 0.2);\n                pointer-events: none;\n                display: none;\n                z-index: 10;\n            }\n        `\n    }\n\n    protected async setup(): Promise<void> {\n        if (this.dataset.imageSrc) {\n            this.image = await Dom.image(this.dataset.imageSrc as string)\n        }\n    }\n\n    protected build(): HTMLElement {\n        const element = Dom.div()\n        this.canvas = Dom.canvas(\n            element.offsetHeight,\n            element.offsetWidth,\n        )\n        const context = this.canvas.getContext('2d')!\n        const selectorBox = this.buildSelectorBox()\n\n        if (this.image) {\n            this.canvas.width = this.image.width\n            this.canvas.height = this.image.height\n\n            context.drawImage(this.image, 0, 0)\n        }\n\n        element.append(this.canvas, selectorBox)\n\n        return element\n    }\n\n    protected buildSelectorBox(): HTMLDivElement {\n        const box = Dom.div('selector-box')\n\n        let startX = 0\n        let startY = 0\n        let isDragging = false\n\n        const snap = (value: number) => Math.round(value / 5) * 5\n\n        const onMouseMove = (event: MouseEvent) => {\n            if (!isDragging) return\n\n            const rect = this.getBoundingClientRect()\n            const currentX = event.clientX - rect.left\n            const currentY = event.clientY - rect.top\n\n            const width = snap(Math.abs(currentX - startX))\n            const height = snap(Math.abs(currentY - startY))\n\n            box.style.display = 'block'\n            box.style.left = snap(Math.min(currentX, startX)) + 'px'\n            box.style.top = snap(Math.min(currentY, startY)) + 'px'\n            box.style.width = width + 'px'\n            box.style.height = height + 'px'\n        }\n\n        const onMouseUp = async () => {\n            isDragging = false\n            document.removeEventListener('mousemove', onMouseMove)\n            document.removeEventListener('mouseup', onMouseUp)\n\n            const boxX = parseInt(box.style.left || '0', 10)\n            const boxY = parseInt(box.style.top || '0', 10)\n            const boxWidth = parseInt(box.style.width || '0', 10)\n            const boxHeight = parseInt(box.style.height || '0', 10)\n\n            Events.emit(\n                EVENTS.sheetSelectionMade,\n                await extractImageFromCanvasArea(\n                    this.canvas,\n                    boxX,\n                    boxY,\n                    boxWidth,\n                    boxHeight\n                )\n            )\n        }\n\n        this.addEventListener('mousedown', (event: MouseEvent) => {\n            const rect = this.getBoundingClientRect()\n            isDragging = true\n            startX = event.clientX - rect.left\n            startY = event.clientY - rect.top\n\n            box.style.display = 'none'\n\n            document.addEventListener('mousemove', onMouseMove)\n            document.addEventListener('mouseup', onMouseUp)\n        })\n\n        return box\n    }\n\n}","import { DraggableHTMLElement, handleDragAndDrop } from 'Client/Component/Generic/handleDragAndDrop'\nimport { Component } from 'Client/Service/Component'\nimport { Dom } from 'Client/Service/Dom'\nimport { Events } from 'Client/Service/Events'\n\nexport class WindowBox extends Component implements DraggableHTMLElement {\n    isDragging = false\n    offsetX = 0\n    offsetY = 0\n\n    public zIndexMoveDown(): void {\n        this.style.zIndex = '1000'\n    }\n\n    public zIndexMoveUp(): void {\n        this.style.zIndex = '1001'\n    }\n\n    public flash(): void {\n        this.classList.add('flash')\n        setTimeout(() => {\n            this.classList.remove('flash')\n        }, 500)\n    }\n\n    protected css(): string {\n        return /*css*/`\n            :host {\n                position: fixed;\n                top: 50%;\n                left: 50%;\n                transform: translateX(-50%) translateY(-50%);\n                cursor: default;\n                z-index: 1001;\n            }\n\n            .header {\n                background: #ccc;\n                padding: 10px;\n                cursor: move;\n                user-select: none;\n                display: flex;\n            }\n\n            .header > div {\n                flex: 1;\n            }\n\n            .options {\n                display:flex;\n                justify-content: flex-end;\n            }\n\n            .close:hover {\n                color: red;\n                cursor: pointer;\n            }\n\n            .content {\n                padding: 10px;\n                background: white;\n                border: 1px solid #ccc;\n            }\n\n            @keyframes flash {\n                0% {\n                  box-shadow: 0 0 0px rgba(255, 200, 0, 0.8);\n                  transform: scale(1);\n                }\n                50% {\n                  box-shadow: 0 0 12px rgba(255, 200, 0, 0.9);\n                  transform: scale(1.02);\n                }\n                100% {\n                  box-shadow: 0 0 0px rgba(255, 200, 0, 0);\n                  transform: scale(1);\n                }\n              }\n              \n              :host(.flash) {\n                animation: flash 0.5s ease-in-out;\n              }\n        `\n    }\n\n    protected build(): HTMLElement {\n        const container = Dom.div('window-box')\n        const content = Dom.div('content')\n        const slot = Dom.slot()\n\n        container.addEventListener('mousedown', (e) => Events.emitMouseDownOnWindowBox(this))\n\n        content.append(slot)\n\n        container.append(\n            this.buildHeader(),\n            content,\n        )\n\n        return container\n    }\n\n    private buildHeader(): HTMLElement {\n        const element = Dom.div('header')\n        const title = Dom.div()\n        const options = Dom.div('options')\n        const close = Dom.div('close')\n\n        close.innerText = 'x'\n\n        title.innerText = this.dataset.title || ''\n\n        element.addEventListener('mousedown', (e) => handleDragAndDrop(this, e))\n        close.addEventListener('click', (event) => {\n            event.stopPropagation()\n            this.destroy()\n        }, true)\n\n        options.append(close)\n\n        element.append(\n            title,\n            options,\n        )\n\n        return element\n    }\n}\n","import { LayerListing } from 'Client/Component/LayerListing/LayerListing'\nimport { WindowBox } from 'Client/Component/WindowBox/WindowBox'\nimport { FileUploader } from 'Client/Component/File/FileUploader/FileUploader'\nimport { FileListing } from 'Client/Component/File/FileListing/FileListing'\nimport { SheetMaker } from 'Client/Component/SpriteSheets/SheetMaker/SheetMaker'\nimport { SideMenu } from 'Client/Component/SideMenu/SideMenu'\nimport { SheetImporter } from 'Client/Component/SpriteSheets/SheetImporter/SheetImporter'\nimport { BasicModal } from 'Client/Component/Generic/Modal/BasicModal'\nimport { NewLayerForm } from 'Client/Component/NewLayerForm/NewLayerForm'\nimport { CanvasLayer } from 'Client/Component/Canvas/CanvasLayer'\n\nexport const COMPONENTS = new Map<CustomElementConstructor, string>([\n\n  [SideMenu, 'side-menu'],\n\n  [LayerListing, 'layer-listing'],\n\n  [WindowBox, 'window-box'],\n\n  [FileUploader, 'file-uploader'],\n\n  [FileListing, 'file-listing'],\n\n  [SheetMaker, 'sheet-maker'],\n\n  [SheetImporter, 'sheet-importer'],\n\n  [BasicModal, 'modal-basic'],\n\n  [NewLayerForm, 'new-layer-form'],\n\n  [CanvasLayer, 'canvas-layer'],\n\n])\n","export const EVENTS = {\n\n    uploadFilesSubmission: 'upload-files-submission',\n\n    openSheet: 'open-sheet',\n\n    openSheetImporter: 'open-sheet-importer',\n\n    openAddNewLayer: 'open-add-new-layer',\n\n    mouseDownWindowBox: 'mouse-down-window-box',\n\n    newLayerSubmit: 'new-layer-submit',\n\n    newLayerMapped: 'new-layer-mapped',\n\n    gotLayer: 'got-layer',\n\n    closeModal: 'close-modal',\n\n    sheetSelectionMade: 'sheet-selection-made',\n\n    windowResize: 'window-resize',\n}","export abstract class Component extends HTMLElement {\n    private readonly shadow: ShadowRoot\n    public isSingleton: boolean = false\n    private content!: HTMLElement\n\n    constructor() {\n        super()\n\n        this.shadow = this.attachShadow({ mode: 'open' })\n    }\n\n    protected abstract build(): HTMLElement\n    protected async setup(): Promise<void> { }\n    protected css(): string {\n        return ''\n    }\n\n    public destroy() {\n        this.shadow.host.remove()\n    }\n\n    public reload() {\n        this.render(true)\n    }\n\n    protected connectedCallback(): void {\n        this.render()\n    }\n\n    private render(isReload: boolean = false) {\n        this.setup().then(() => {\n            const css = this.css().trim()\n\n            if (css.length) {\n                const sheet = new CSSStyleSheet()\n                sheet.replaceSync(css)\n                this.shadowRoot!.adoptedStyleSheets = [sheet]\n            }\n\n            this.content = this.build()\n\n            if (isReload) {\n                this.shadow.replaceChild(\n                    this.build(),\n                    this.content,\n                )\n            } else {\n                this.shadow.appendChild(\n                    this.content\n                )\n            }\n        })\n    }\n}","import { COMPONENTS } from 'Client/Constants/components'\nimport { Component } from 'Client/Service/Component'\n\nexport class Dom {\n    constructor() {\n        throw new Error('Can not construct')\n    }\n\n    public static div(...classList: string[]): HTMLDivElement {\n        const element = document.createElement('div')\n\n        if (classList.length) {\n            element.classList.add(...classList)\n        }\n\n        return element\n    }\n\n    public static label(text: string, ...classList: string[]): HTMLLabelElement {\n        const element = document.createElement('label')\n\n        element.innerText = text\n\n        if (classList.length) {\n            element.classList.add(...classList)\n        }\n\n        return element\n    }\n\n    public static inputText(...classList: string[]): HTMLInputElement {\n        const element = document.createElement('input')\n\n        element.type = 'text'\n\n        return element\n    }\n\n    public static canvas(width: number = 0, height: number = 0): HTMLCanvasElement {\n        const element = document.createElement('canvas')\n\n        element.width = width\n        element.height = height\n\n        return element\n    }\n\n    public static button(text: string, ...classList: string[]): HTMLButtonElement {\n        const element = document.createElement('button')\n\n        element.innerText = text\n\n        if (classList.length) {\n            element.classList.add(...classList)\n        }\n\n        return element\n    }\n\n    public static slot(): HTMLSlotElement {\n        return document.createElement('slot')\n    }\n\n    public static multiFileInputWithDir(): HTMLInputElement {\n        const element = document.createElement('input')\n\n        element.type = 'file'\n        element.webkitdirectory = true\n        element.multiple = true\n\n        return element\n    }\n\n    public static async image(src: string): Promise<HTMLImageElement> {\n        return new Promise((resolve, reject) => {\n            const image: HTMLImageElement = document.createElement('img')\n            image.src = src\n            image.addEventListener('load', () => resolve(image))\n            image.addEventListener('abort', () => reject())\n        })\n    }\n\n    public static makeComponent(\n        component: CustomElementConstructor,\n        dataset: Object = {},\n    ): Component {\n        const tag = this.findComponentTag(component)\n        const existing = Dom.queryAllDeep(tag)\n\n        if (existing.length) {\n            const found = existing[0] as Component\n            if (found.isSingleton) {\n                return found\n            }\n        }\n\n        const element = document.createElement(tag)\n\n        Object.assign(\n            element.dataset,\n            dataset\n        )\n\n        return element as Component\n    }\n\n    public static getAllOfComponent<T = CustomElementConstructor>(component: CustomElementConstructor): T[] {\n        const tag = this.findComponentTag(component)\n\n        return Array.from(\n            Dom.queryAllDeep(tag)\n        ) as T[]\n    }\n\n    private static queryAllDeep(selector: string, root: ParentNode = document): Element[] {\n        const result: Element[] = []\n\n        const traverse = (node: Element): void => {\n            if (node.matches(selector)) {\n                result.push(node)\n            }\n\n            const shadow = (node as HTMLElement).shadowRoot\n            if (shadow) {\n                traverseAll(shadow)\n            }\n\n            Array.from(node.children).forEach(child => traverse(child as Element))\n        }\n\n        const traverseAll = (container: ParentNode): void => {\n            Array.from(container.children).forEach(child => traverse(child as Element))\n        }\n\n        traverseAll(root)\n\n        return result\n    }\n\n    private static findComponentTag(component: CustomElementConstructor): string {\n        const tag = COMPONENTS.get(component)\n\n        if (!tag) {\n            throw new Error(`Component not found in COMPONENTS map: ${component.name}`)\n        }\n\n        return tag\n    }\n}","import { WindowBox } from 'Client/Component/WindowBox/WindowBox'\nimport { EVENTS } from 'Client/Constants/events'\n\ntype EventFn<T = any> = (event: CustomEvent<T>) => void\n\nexport class Events {\n    constructor() {\n        throw new Error('Can not construct')\n    }\n\n    public static emit<T>(key: string, detail: T | undefined = undefined): void {\n        document.dispatchEvent(\n            new CustomEvent<T>(\n                key,\n                {\n                    detail,\n                    bubbles: false,\n                    composed: true\n                }\n            )\n        )\n    }\n\n    private static addListener<T>(key: string, callback: EventFn<T>): void {\n        document.addEventListener(\n            key,\n            callback as EventListener,\n        )\n    }\n\n    public static listen<T>(\n        callback: EventFn<T>,\n        ...keys: string[]\n    ): void {\n        keys.forEach(key => {\n            this.addListener(key, callback)\n        })\n    }\n\n    public static emitFilesUploadSubmitted(files: File[]): void {\n        Events.emit<File[]>(\n            EVENTS.uploadFilesSubmission,\n            files\n        )\n    }\n\n    public static listenToFilesUploadSubmitted(callback: (files: File[]) => void): void {\n        Events.listen<File[]>(\n            event => {\n                callback(event.detail)\n            },\n            EVENTS.uploadFilesSubmission,\n        )\n    }\n\n    public static emitOpenSheet(file: File): void {\n        this.emit(EVENTS.openSheet, file)\n    }\n\n    public static listenToOpenSheet(callback: (file: File) => void): void {\n        Events.listen<File>(\n            event => {\n                callback(event.detail)\n            },\n            EVENTS.openSheet,\n        )\n    }\n\n    public static emitMouseDownOnWindowBox(windowBox: WindowBox): void {\n        Events.emit(\n            EVENTS.mouseDownWindowBox,\n            windowBox,\n        )\n    }\n\n    public static listenMouseDownOnWindowBox(callback: (windowBox: WindowBox) => void): void {\n        Events.listen<HTMLElement>(\n            event => {\n                callback(event.detail as WindowBox)\n            },\n            EVENTS.mouseDownWindowBox,\n        )\n    }\n\n    public static emitSheetImportOpen(): void {\n        Events.emit(\n            EVENTS.openSheetImporter,\n        )\n    }\n\n    public static listenToSheetImportOpen(callback: () => void): void {\n        Events.listen(\n            (event) => {\n                callback()\n            },\n            EVENTS.openSheetImporter,\n        )\n    }\n}\n","export class FileUpload {\n    public static async uploadMultiple(files: File[]): Promise<void> {\n        const formData = new FormData()\n\n        files.forEach((file) => {\n            formData.append('files[]', file)\n        })\n\n        await fetch('/upload-files', {\n            method: 'POST',\n            body: formData,\n        })\n    }\n}","import { Repository } from 'Client/Service/Repository/Repository'\nimport { Layer } from 'Model/Layer'\n\nexport class LayerRepository extends Repository {\n    private readonly API_PATH = '/layers'\n\n    public async persist(...layers: Layer[]): Promise<void> {\n        await this.post(\n            this.API_PATH,\n            layers,\n        )\n    }\n\n    public async getAll(): Promise<Layer[]> {\n        return await this.get(this.API_PATH)\n    }\n}","export abstract class Repository {\n    protected post(\n        path: string,\n        body: Array<Object> | Object,\n    ): Promise<Response> {\n        return fetch(path, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(body),\n        })\n    }\n\n    protected async get<T>(path: string): Promise<T> {\n        const response = await fetch(path)\n\n        return response.json()\n    }\n}","import { WindowBox } from 'Client/Component/WindowBox/WindowBox'\nimport { Component } from 'Client/Service/Component'\nimport { Dom } from 'Client/Service/Dom'\n\nconst singletonInstances: Component[] = []\n\nexport class WindowBoxFactory {\n    public static make(\n        component: Component,\n        title: string,\n    ): WindowBox {\n        const windowBox: WindowBox = Dom.makeComponent(WindowBox) as WindowBox\n\n        if (component.isSingleton && singletonInstances.includes(component)) {\n            return windowBox\n        }\n\n        if (!windowBox.isConnected) {\n            windowBox.dataset.title = title\n\n            windowBox.append(component)\n\n            if (component.isSingleton) {\n                singletonInstances.push(component)\n            }\n\n            document.body.append(\n                windowBox\n            )\n        }\n\n        return windowBox\n    }\n}","import { Dom } from 'Client/Service/Dom'\n\nexport async function extractImageFromCanvasArea(\n    sourceCanvas: HTMLCanvasElement,\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n): Promise<HTMLImageElement> {\n    const tempCanvas = Dom.canvas(width, height)\n    const ctx = tempCanvas.getContext('2d')!\n\n    const image = await Dom.image(sourceCanvas.toDataURL())\n\n    ctx.drawImage(image, x, y, width, height, 0, 0, width, height)\n\n\n    console.log(await Dom.image(tempCanvas.toDataURL()))\n\n\n    return await Dom.image(tempCanvas.toDataURL())\n}","export async function fileToBase64(file: File | null): Promise<string> {\n    if (file === null) {\n        return ''\n    }\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader()\n\n        reader.onload = () => resolve(reader.result as string)\n        reader.onerror = reject\n        reader.readAsDataURL(file)\n    })\n}","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./styles.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./styles.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { Layer } from 'Model/Layer'\n\nexport class LayerFactory {\n    public static make(): Layer {\n        return {\n            uuid: crypto.randomUUID(),\n\n            name: '',\n\n            created_at: new Date().toISOString(),\n\n            is_visible: true,\n        }\n    }\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nc = undefined;","import 'Client/styles.css'\nimport { COMPONENTS } from 'Client/Constants/components'\nimport { Events } from 'Client/Service/Events'\nimport { FileUpload } from 'Client/Service/FileUpload'\nimport { Dom } from 'Client/Service/Dom'\nimport { fileToBase64 } from 'Client/Service/fileToBase64'\nimport { WindowBox } from 'Client/Component/WindowBox/WindowBox'\nimport { WindowBoxFactory } from 'Client/Service/WindowBoxFactory'\nimport { SheetImporter } from 'Client/Component/SpriteSheets/SheetImporter/SheetImporter'\nimport { SheetMaker } from 'Client/Component/SpriteSheets/SheetMaker/SheetMaker'\nimport { EVENTS } from 'Client/Constants/events'\nimport { BasicModal } from 'Client/Component/Generic/Modal/BasicModal'\nimport { NewLayerForm } from 'Client/Component/NewLayerForm/NewLayerForm'\nimport { LayerInput } from 'Client/Model/LayerInput'\nimport { LayerFactory } from 'Model/Factory/LayerFactory'\nimport { LayerRepository } from 'Client/Service/Repository/LayerRepository'\n\nCOMPONENTS.forEach((tagName, constructor) => {\n    customElements.define(tagName, constructor)\n})\n\nlet openSheets: string[] = []\n\nlet windowBoxes: { [key: string]: WindowBox } = {}\n\nconst layerRepository = new LayerRepository()\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    Events.listenToFilesUploadSubmitted(files => {\n        FileUpload.uploadMultiple(files)\n    })\n\n    Events.listenToOpenSheet(async file => {\n        if (openSheets.includes(file.name)) {\n            windowBoxes[file.name].flash()\n            return\n        }\n        const component = Dom.makeComponent(SheetMaker, { imageSrc: await fileToBase64(file) })\n\n        openSheets.push(file.name)\n\n        windowBoxes[file.name] = WindowBoxFactory.make(component, file.name)\n    })\n\n    Events.listenMouseDownOnWindowBox(windowBox => {\n        Dom.getAllOfComponent<WindowBox>(WindowBox).forEach(box => {\n            box.zIndexMoveDown()\n        })\n        windowBox.zIndexMoveUp()\n    })\n\n    Events.listenToSheetImportOpen(() => {\n        const component = Dom.makeComponent(SheetImporter)\n\n        WindowBoxFactory.make(component, 'Import Sheets')\n    })\n\n    Events.listen(() => {\n        const modal = Dom.makeComponent(BasicModal)\n        const newLayerForm = Dom.makeComponent(NewLayerForm)\n\n        modal.append(newLayerForm)\n\n        document.body.append(\n            modal\n        )\n    }, EVENTS.openAddNewLayer)\n\n    Events.listen((data) => {\n        const input: LayerInput = data.detail as LayerInput\n\n        const layer = Object.assign(\n            LayerFactory.make(),\n            input\n        )\n\n        Events.emit(EVENTS.newLayerMapped, [layer])\n\n        layerRepository.persist(layer)\n    }, EVENTS.newLayerSubmit)\n\n    layerRepository.getAll().then(layers => {\n        Events.emit(EVENTS.gotLayer, layers)\n    })\n\n    window.addEventListener('resize', () => Events.emit(EVENTS.windowResize))\n})\n\n"],"names":[],"sourceRoot":""}